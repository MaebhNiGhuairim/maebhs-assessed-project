{% extends 'base.html' %}
{% load static %}

{% block title %}Classes - The Yoga Loft{% endblock %}

{% block content %}
<section class="classes py-5">
    <div class="container">
        <h2 class="text-center mb-4">Yoga Classes</h2>
        <div class="row">
            {% for yoga_class in yoga_classes %}
            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">{{ yoga_class.class_name }}</h5>
                        <p class="card-text">{{ yoga_class.description }}</p>
                        <p class="card-text">Duration: {{ yoga_class.duration }}</p>
                        
                        {% if yoga_class.classschedule_set.all %}
                        <h6>Available Schedules:</h6>
                        <ul>
                            {% for schedule in yoga_class.classschedule_set.all %}
                            <li>{{ schedule.day_of_week }} at {{ schedule.start_time }}</li>
                            {% endfor %}
                        </ul>
                        <a href="{% url 'book_class' %}" class="btn custom-btn">Book Now</a>
                        {% else %}
                        <p class="text-danger">No schedules available.</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}
